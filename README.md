# SourceSymbolMapper

[NuGet here](https://www.nuget.org/packages/SourceSymbolMapper)

A tool to relate metadata extracted by [SourceLinkExtract](https://github.com/ProphetLamb/SourceLinkExtract) to assembly typedefinitions

```bash
dotnet mapper "../meta/metadata.json", "../meta", "../meta/symbols.json"
```

## Argument 1
Filepath of the metadata dump from the portable PDB or assembly. Generated by [SourceLinkExtract](https://github.com/ProphetLamb/SourceLinkExtract).

```json
{
  "link": {
    "documents": {
      "/_/*": "https://raw.githubusercontent.com/ProphetLamb/Surreal.Net/9050c906117c795ca385fd52b75062771a2a8816/*"
    }
  },
  "docs": [
    {
      "name": "src/Abstractions/Database.cs",
      "lang": "3f5162f8-07c6-11d3-9053-00c04fa302a1",
      "algo": "8829d00f-11b8-4213-878b-770e8597ac16",
      "hash": "sksvYzgtjDMO34efmUFUzcmtYiT/TuXUrURrbf9dNwk="
    },
    [...]
  ]
}

```

## Argument 2
Directorypath of the extracted/downloaded sources. Generated by [SourceLinkExtract](https://github.com/ProphetLamb/SourceLinkExtract).
Alternatively the path of the source repository.

```
src/Abstractions/Database.cs
src/Abstractions/obj/Release/net60/Abstractions.AssemblyInfo.g.cs
[...]
```

## Argument 3
The output filepath fo the tool, where the symbol mapping will be written to.
Typenames may appear more then once, if the type is `partial`.

```json
[
  {
    "typename": "IDatabase",
    "link": "https://raw.githubusercontent.com/ProphetLamb/Surreal.Net/9050c906117c795ca385fd52b75062771a2a8816/src/Abstractions/Database.cs",
    "start": 6,
    "end": 141
  },
  {
    "typename": "IDatabase",
    "link": "https://raw.githubusercontent.com/ProphetLamb/Surreal.Net/9050c906117c795ca385fd52b75062771a2a8816/src/Abstractions/Database.cs",
    "start": 141,
    "end": 295
  }
]

```